# The general configuration options for the api.
# Note that this will be superseded by any environment vars that are set.
# This is designed to be a fall-back/defaults file.
# Removing an option from here and *not* providing it via an environment
# variable will prevent the api from starting.

# The name of the api to be returned with requests. (<name> Api)
# Default: "Jo's"
API_NAME = "Jo's" 

# Where to store the .wav's generated by the api.
# Note that if you change this after running the api for some time, you should
# delete the old cache folder, as the .wav files it contains will remain.
# Default: "./cache"
CACHE_PATH = "./cache" 

# Closely related to the above cache path.
# This is a temporary location for files to be stored, i.e. if doing a conversion from .wav
# to .mp4. This is also where .wavs that aren't cached will be stored after generation 
# before being deleted. Files can be deleted from here when the server is shutdown without
# risk.
# Default: "./cache/temp"
TEMP_PATH = "./cache/temp"

# The maximum length of a phrase in chars.
# A user that sends a phrase longer than this will recieve a 400 response.
# Default: 100
WORD_LENGTH_LIMIT = 100

# The maximum speed value that may be passed to the api.
# A user that sends a value greater than this will recieve a 400 response.
# Default: 3.0
SPEED_MAX_VAL = 3.0

# The minimum speed value that may be passed to the api.
# A user that sends a value lower than this will recieve a 400 response.
# Default: 0.5
SPEED_MIN_VAL = 0.5

# The maximum number of requests that can be recieved from a given user
# over a time period of MAX_REQUESTS_TIME_PERIOD_MINUTES before we return
# 429 responses to requests from that user.
# This can be set fairly aggressively.
# //TODO Setting this to -1 will disable ACC rate limiting.
# Default: 40
MAX_REQUESTS_ACC_THRESHOLD = 40

# The time period over which request rate limits apply.
# Default: 5
MAX_REQUESTS_TIME_PERIOD_MINUTES = 2

# The number of hours a JWT token should be valid for before we require the user to 
# revalidate their token.
# Default: 720
JWT_EXPIRY_TIME_HOURS = 720

# The file formats that may be returned by the api.
# A user may request their file in any one of these formats.
# Note that only .wav files will be cached by the api, and converted on the fly to what is required.
# These formats must be matched *exactly*, do not include a period, write in lower case.
# Note that this api uses sox internally for it's conversion, so you must use formats it supports.
# Supported formats can be found here: http://sox.sourceforge.net/AudioFormats-6.html
# Default: [ "wav", "mp3", "aif" ]
ALLOWED_FORMATS = [ "wav", "mp3", "aif" ]

# The list of allowed chars that the user may provided in a phrase.
# If the user attempts to send a char that is not present in this list, the request will be rejected
# with a 400 response. 
# Note that while you may add any chars, care should be taken to avoid certain chars, such as \, (), 
# {}. These should *theoretically* work and be esacped correctly, but introduce security concerns.
# TODO make "" allow all chars
# Default: "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,!@#%$/'_-()ĀāĒēĪīŌōŪū "
ALLOWED_CHARS = "1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.,?!@#%$/'_-()ĀāĒēĪīŌōŪū "

# A list of strings that the api will return 400 errors for if they are recieved in whole or part
# as an attempted conversion phrase.
#
# You may choose between strict or loose blocking as shown below. Strings are matched exactly. 
# Note that if one of your blocked strings contains a char which is not allowed as above, the api 
# will ignore this blocked phrase upon startup.
#
# By default matches are case insensitive.
#
# Commonly, users may choose to block vulgar language. A good source for a word list is Uk's Ofcom:
# https://www.ofcom.org.uk/__data/assets/pdf_file/0023/91625/OfcomQRG-AOC.pdf
#
# Examples:
# BLACKLISTED_PHRASES = ["test"]
# Blocked: "hello this is a test", "testing123", "other_phrasetestother_phrase", "TEST", "hi test hi"
# Allowed: "t e s t", "t est"
#
# BLACKLISTED_PHRASES = [" test "]
# Blocked: "hi test hi", "TEST", "hello this is a test"
# Allowed: "t e s t", "t est", "testing123", "other_phrasetestother_phrase"
#
# Take care with what phrases you blacklist and why!
#
# Default: []
BLACKLISTED_PHRASES = []